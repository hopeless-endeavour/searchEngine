{% extends "layout.html" %}

{% block title %}Home{% endblock %}

{% block content %}

<div class="view">
  <div class="search-box">
    <h2>French News Search Engine</h2>
    <form method="post">
      <div class="flex-box">
        <div class='filters card'>
          <h5>Filters:</h5>
          <div class="form-group">
            <p>Size of DB: {{ n_articles}}</p>
            <select class="form-control custom-select" id="n-select">
              <option hidden display > Number of returns</option>
              <option value="1">1 </option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
          <div class="form-group">
            <select class="form-control custom-select" id="level">
              <option value="" disabled hidden selected>Select level</option>
              {% for key,value in n_cefrs.items() %}
                {% if value == 0 %}
                  <option value="{{key}}" disabled>{{key}} ({{value}})</option>
                {% else %}
                  <option value="{{key}}" style='font-weight: bolder;'>{{key}} ({{value}})</option> 
                {% endif %}
              {% endfor %}
                <!-- <option value="A2">A2 ({{n_cefrs[1]}})</option>
              <option value="B1">B1 ({{n_cefrs[2]}})</option>
              <option value="B2">B2 ({{n_cefrs[3]}})</option>
              <option value="C1">C1 ({{n_cefrs[4]}})</option>
              <option value="C2">C2 ({{n_cefrs[5]}})</option> -->
            </select>
          </div>
          <div class="form-group input-daterange"> <input type="text" id="start" class="form-control"> <label class="form-control-placeholder" id="start-p" for="start">Start Date</label> <span class="fa fa-calendar" id="fa-1"></span> <input type="text" id="end" class="form-control"> <label class="form-control-placeholder" id="end-p" for="end">End Date</label> <span class="fa fa-calendar" id="fa-2"></span> 
          </div>
        </div>
        <div class="flex-box2">
          <div class="query-form">
            <div class="form-group input-group">
              <input type="text" id="query" class="form-control" placeholder="Search..." required>
            </div>
            <div class="alert alert-light" style="margin-left: 5px; margin-right: 5px; height: 38px; padding-top: 6px;" role="alert">
              <strong>OR</strong>
            </div>
            <div class="form-group site-select">
              <select class="form-contorl custom-select" id="domain">
                <option value="" disabled hidden selected>Get current news from...</option>
                <option value="20min">20minutes.fr</option>
              </select>
            </div>
            <div>
              <button id="submit-btn" class="btn btn-outline-light search-btn" type="submit"><i class="fa fa-search"></i></button>
            </div>
          </div>
        </div>
        </div>
    </form>
    {% if session['user_id'] %}
      <p id='user_id' type='hidden'>{{session['user_id']}}</p>
    {% endif %}
    <div id="results-box"></div>
  </div>
</div>

{% endblock %}
